<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>LZN's Blog</title>
    <description></description>
    <link>http://202.116.70.212:80/</link>
    <atom:link href="http://202.116.70.212:80/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sat, 18 May 2019 00:15:28 +0800</pubDate>
    <lastBuildDate>Sat, 18 May 2019 00:15:28 +0800</lastBuildDate>
    <generator>Jekyll v3.6.2</generator>
    
      <item>
        <title>《一年无明》观后感：大城市市民阶层的蝼蚁化</title>
        <description>
这部片子在大陆是17年4月7日上映的，到我昨天看过刚好两年。在九十年代后港片落寞的时代，这种写实题材的剧本却依然铿锵有力。

&lt;strong&gt;Updated 2019-04-15&lt;/strong&gt;
</description>
        <pubDate>Mon, 15 Apr 2019 00:00:00 +0800</pubDate>
        <link>http://202.116.70.212:80/2019/04/15/mad-world-thinking/</link>
        <guid isPermaLink="true">http://202.116.70.212:80/2019/04/15/mad-world-thinking/</guid>
        
        <category>thinking</category>
        
        <category>blog</category>
        
        
        <category>thinking</category>
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>人生是一场牌局</title>
        <description>
人生其实就像打牌。

每个人生来，都有自己的初始手牌，和初始筹码。幸亦不幸，个体的一生，对初始条件，以及早期发展路径是高度敏感的。

从胎儿、婴儿、幼儿、一直到少儿，在这长达十几年的时间里，无论个体的基因组、营养发育、家庭财富等硬手牌，还是父母关系、家庭教育、社交环境等软实力，这一切，完全由父母、家庭、和大的时代与社会背景决定。在个体心智萌蘖之前，无法对自己的牌局做任何掌控。

巴菲特说，这是每一个人的“卵巢彩票”。

当个体心智开始成长，会慢慢意识到，时间在不断向我们发牌，而到手的牌时好时坏，这是运气，这是概率中无法控制的部分。

而同时，只要我们运气不至于差到，在接受书本教育前就爆仓，教育的出现，会使得初始条件和前期路径的依赖权重，开始降低。

接受教育就如同个体开挂，如同个体人生漫漫的牌局中，能够并行运作一台线下人生模拟器。教育会告诉个体，这个世界有哪些牌存在；手上拿到哪组牌，对应怎样的策略，可以规避爆仓的风险，或者拥有最大的胜率。

教育更大的意义在于能够让个体启动元思考，或者说，对思考的思考。这是由思维和文字的递归性所决定的：既有的思维印痕通过文字而得到记录和传播，而个体对文字的吸纳理解又可以启动新的思维。

聪明的你肯定从小就知道，不能把燃着的鞭炮丢到充满沼气的化粪池。因为你学过CH4，了解它的性质，并且，你懂得从第一性原理(first principle)出发进行结果推理。瞧，这就是风控。

所以接受教育，对个体，相当于获得了这场牌局的外挂：人生模拟器。更牛逼的地方在于，这个模拟器既是数据驱动的，也是动力驱动的。不过，动力驱动的模块，更难被训练和加强。黑格尔说：“人类从历史上学到的唯一教训，就是人类无法从历史上学到教训。”不仅从种群尺度，到个体尺度，往往也适用。

接受教育，利用主观能动性和思维去驱动自己的人生模拟器，试图把手上的牌打好，把每次下注应押的筹码计算好，这叫牌技，也是概率中可以控制的部分。自我驱动的主观努力，是牌技，在关键时刻下注或弃牌的选择决策，也是牌技。哪个更重要？都重要，长时间尺度而言，努力重要；某些关键时点，选择更重要。他曾经说过“个人的努力固然重要，但也要考虑历史的行程啊。“而选择的能力，依赖于对信息的搜集和处理，依赖于非对称信息下的决策思维，而这些，依赖于长期坚持的努力和思考。

我们身边，有人能够把一手烂牌打出花，也有人能把一手好牌打成翔，有些一手臭牌梭哈最终一败涂地，有人蛰伏保守一辈子等待好的赔率和胜率。

新一年，祝大家多拿好牌，把牌打顺！

&lt;strong&gt;Updated 2019-02-03&lt;/strong&gt;
</description>
        <pubDate>Mon, 04 Feb 2019 00:00:00 +0800</pubDate>
        <link>http://202.116.70.212:80/2019/02/04/card-play-life/</link>
        <guid isPermaLink="true">http://202.116.70.212:80/2019/02/04/card-play-life/</guid>
        
        <category>thinking</category>
        
        <category>blog</category>
        
        
        <category>thinking</category>
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>一向年光有限身：新税改后助研津贴退税，学生多赚有几何？</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#要点&quot; id=&quot;markdown-toc-要点&quot;&gt;要点&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#楔子&quot; id=&quot;markdown-toc-楔子&quot;&gt;楔子&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#理论&quot; id=&quot;markdown-toc-理论&quot;&gt;理论&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#实践&quot; id=&quot;markdown-toc-实践&quot;&gt;实践&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#讨论&quot; id=&quot;markdown-toc-讨论&quot;&gt;讨论&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#总结&quot; id=&quot;markdown-toc-总结&quot;&gt;总结&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#参考&quot; id=&quot;markdown-toc-参考&quot;&gt;参考&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;要点&quot;&gt;要点&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    新税收体系相比于旧税收体系，预扣税款会减少研究生助研津贴的累积当期&lt;strong&gt;账面&lt;/strong&gt;收入，且毕业前累积&lt;strong&gt;账面&lt;/strong&gt;减值达到最大；毕业前的账上减值，对于一般3年期硕士生，约在&lt;strong&gt;1000元&lt;/strong&gt;，四年期博士生约在&lt;strong&gt;2000-3000元&lt;/strong&gt;，约占累积收入3-4%；五年期直博生约在&lt;strong&gt;3000-5000元&lt;/strong&gt;，约占累积收入5%；部分劳务收入特别高（比如有较多非校内收入）的博士生能达到&lt;strong&gt;10000元&lt;/strong&gt;以上，约占累积收入8%.
  &lt;/li&gt;
  &lt;li&gt;
    次年退税后，账面减值均会有显著回调，且该回调随读研年数增加（收入增多）而增多。对硕士生来说，该回调约在500元以下，高年级博士生能接近1000元；收入特别高的博士生能达到几千元。毕业后次年，随着最后一次退税完成，最终实际减值为&lt;strong&gt;预扣税款的时间价值&lt;/strong&gt;.三年期博士生仅为几十块，收入特别高的博士生也不到总累积收入的1%。若退税过程一切顺利，完全可以忽略对总收入的影响。
  &lt;/li&gt;
  &lt;li&gt;
    研究生所交预扣税款的本质相当于逐月滚动购买15-27月期零息国债,全国研究生每年平均为财税体系贡献20亿零利息，一年之上，两年未满的流动性便利，但该金额其实只相当于年总税收万分之一。
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;楔子&quot;&gt;楔子&lt;/h3&gt;

北宋词人晏几道一曲《浣溪沙》有云：

&lt;blockquote&gt;
  一向年光有限身，等闲离别易销魂，酒筵歌席莫辞频。
&lt;/blockquote&gt;

&lt;blockquote&gt;
  满目山河空念远，落花风雨更伤春，不如怜取眼前人。
&lt;/blockquote&gt;

这首词感叹人生苦短，聚少离多，不如及时行乐，“酒筵歌席莫辞频”。晏殊词温婉清丽，格调优雅，亦不乏深刻，人这一生，究竟应该“艰难困苦，玉汝于成”，还是应当“歌席莫辞频，怜取眼前人”？只怕也是亘古之人生难题。

在晏殊这牌词写就近千年之后，这个世界上大部分人依然会面临同样的问题，只不过创造了一个时髦的心理学词汇，试图定量描述：“延迟满足“。

商人无道，比如张一鸣造了个抖音，靠及时行乐的用户赚得体满钵满，还要回过头diss一番自己客户：&lt;a href=&quot;https://tech.sina.com.cn/i/2018-08-02/doc-ihhehtqf3594606.shtml&quot;&gt;延迟满足能力差，还没拼天赋就跪倒我裙下&lt;/a&gt;。

相较之下，国家2019年针对研究生津贴的新税改，那可真如母亲一般关怀备至，悉心培养祖国花朵们的延迟满足能力：研究生助研津贴全部按照劳务报酬税的标准先行预扣，次年再行退税。这个劳务报酬税嘛，其实在八十年代就制定了，免征额是800块，多体贴，八百吃饭，超过八百，收点税帮您保管着，择日再还。如此这般，自是结结实实地帮助大手大脚的研究生们学会了自律，延迟了满足，感受了温暖，实现了价值。不要忘了，年劳务收入不超过7.5万可是会全额退税的哦，这可比老标准赚得不知道高哪里去了。且看下图：

&lt;img src=&quot;http://ww1.sinaimg.cn/large/73ebdc71ly1fzk2wfwmkmj20dm0digq9.jpg&quot; alt=&quot;&quot; /&gt;

什么？超过两万每月还要扣30%做梦呢，不用看表，表没用，以大家收入水平，记住个800，4000，20%就行了诶。

不妨我们对新旧税收体系做个比较，看看延迟满足的我们究竟多赚了多少呢？

&lt;h3 id=&quot;理论&quot;&gt;理论&lt;/h3&gt;

如何比较？原来的标准是，每月收入超过3500按个人所得税扣取，现在是超800按劳务报酬预扣，满足一定条件一年后退税。不过话说回来，1年后返还的100元和今天拿到的100元是一样的100元么？聪明的你肯定知道，不一样不一样，小时候雪糕五毛一块，十几年后的今天，最便宜也得三四块啦。

现在，为了解决这个不一样的问题，我们祭出纸醉金迷行业中让人清醒法宝之一：用于企业、债券等等估值常用的方法：&lt;a href=&quot;https://wallstreetcn.com/articles/3060993&quot;&gt;现金流折现法&lt;/a&gt;.

顾名思义，现金流折现，就是将资产未来所能产生的现金流量还原为当前现值，对于两种不同的扣税方式，我们可以采用完全相同的办法来贴现，只要比较现值高低，就知道究竟哪种计税方式我们赚得更多！说人话，就是把研究生期间补助，考虑通胀之类的因素，全部折算到今天，看看哪个多哪个少就行啦。具体现金流折现公式如下：

&lt;img src=&quot;http://ww1.sinaimg.cn/large/73ebdc71ly1fzk2ggckowj213c0ec3zq.jpg&quot; alt=&quot;&quot; /&gt;

这一公式中的&lt;a href=&quot;https://wiki.mbalib.com/wiki/%E6%8A%98%E7%8E%B0%E7%8E%87&quot;&gt;折现率&lt;/a&gt;是非常重要的参数，揭示了未来的100块和今天100块的差异。那么该如何确定折现率呢？折现率取决于预扣税款的时间价值，也就是我们所承担的机会成本。当然，如果我们现在拿到这笔钱，可以用于投资，也可以用于消费，投资可以增值，早消费可以避免长期的货币贬值。考虑到这些就差不多啦，折现率通常由如下几个部分构成：
&lt;blockquote&gt;
  折现率=无风险报酬率+风险报酬率+通货膨胀率
&lt;/blockquote&gt;

风险？不存在的，税务爸爸到期一定会还给你的啦（准备好你的退税资料！）。当然，报酬是有的，75000块每年的免征额，可比3500块一月的免征额高不知道哪里去了。所以我们关注的就是无风险报酬率和通货膨胀率。无风险收益大概可以等价于我们买银行定期存款、货币基金或者国债的收益，目前的利率环境下，3%是一个比较好的估计；通胀率嘛，&lt;a href=&quot;http://www.chinanews.com/cj/2019/01-10/8725173.shtml&quot;&gt;统计局告诉我们去年终于踩上2%啦&lt;/a&gt;。好的，谢谢！我们姑且把2%再乘以2就等于4%吧。什么？为什么乘以2？我也不知道，去问问饭堂大妈吧，或许她们还嫌2小。

因此我们采用折现率r0=0.03+0.04=0.07/年

注意这是年折现率，我们采用复利公式把它改写为月折现率以与现金流入频率对应：r=56.54/10000，亦即月底的10000块比月初的10000块价值下降了56块5毛4分钱.

这样，我们只需要将两套体系未来全部收入折现到今天的现值比较就可以啦。旧个税（2011）表如下：

&lt;img src=&quot;http://ww1.sinaimg.cn/large/73ebdc71ly1fzk3mn0dq8j20jg0dj0wb.jpg&quot; alt=&quot;&quot; /&gt;

简便起见，我们对未来研究生劳务现金流做如下预设：

&lt;ol&gt;
  &lt;li&gt;每月助研津贴等额且小于5000元人民币（旧有个税第一档且新体系下全额退税）&lt;/li&gt;
  &lt;li&gt;没有其他劳务收入（设计、安装、制图、医疗、会计、法律、咨询、讲学、新闻、广播、投稿、翻译、书画、雕刻、电影、戏剧、音乐、舞蹈、杂技、曲艺、体育、技术服务等项劳务的所得）&lt;/li&gt;
  &lt;li&gt;对完整一年期收入进行现金流折现，且退税发生在次年年末。&lt;/li&gt;
&lt;/ol&gt;

下面两张图展现的是两套体系的现值对比。横轴是月收入，纵轴是1年期现金流折现。注意，新体系下包含了次年末的退税。怎么？第一张图看不出区别？其实仔细看还是可以发现旧体系（灰色实线）在收入大于800后是在新体系（蓝色实线上面的）。

为了方便各位客官观瞻评点，小的特地又画了图2。红线代表新体系减去旧体系的现值差。可以看到，月助研津贴大于800元的时候，新体系未来一年期的现金流折现总是小于旧体系的。比如说吧，客官您每月津贴1500大洋，如果按新体系折现一年期现金流，您大概是亏了一百多块的样子。一年一百多也没什么嘛，也就是腾讯云一年期学生价而已啦。但如果您的月劳务有5k的话，那可就是八百多啦，是不是当两年电话费啦？可不是嘛，我纳税我自豪，我为国家省余粮！

&lt;img src=&quot;http://ww1.sinaimg.cn/large/73ebdc71ly1fzlauone83j20ga0c9jt7.jpg&quot; alt=&quot;&quot; /&gt;

&lt;h3 id=&quot;实践&quot;&gt;实践&lt;/h3&gt;

我们再考虑三个现实的情况：小A是三年期硕士研究生，这三年每月导师给的助研津贴分别为800元，1000元和1200元。小B是直博生，对应五年津贴为800元，1000元，1200元，1500元，和2000元。小C是中科院高才直博生，五年津贴分别为 2000元，2500元，3000元， 4000元和5000元 我们对三人三年和到五年的累积现金流折现情况进行分析。这里我们把逐月收入累计并贴现到现值，一直记录到最后一年次年最终退税为止。简化起见，我们从年初考虑，不考虑实际学年划分在9月。

&lt;img src=&quot;https://ws1.sinaimg.cn/large/73ebdc71gy1fznq00t1tpj20hs0dcwfb.jpg&quot; alt=&quot;&quot; /&gt;

&lt;img src=&quot;https://ws1.sinaimg.cn/large/73ebdc71gy1fznq0fda49j20hs0dcdgr.jpg&quot; alt=&quot;&quot; /&gt;

&lt;img src=&quot;https://ws1.sinaimg.cn/large/73ebdc71gy1fznj2ydvrxj20hs0dcab3.jpg&quot; alt=&quot;&quot; /&gt;

从上面三个情景的对比可以看出，新体系下，无论硕士还是博士，累计现金流折现最大账面亏损都是发生在毕业前夕，对于五年高收入学霸直博生来说，账面亏损能达到12000+，相当于总收入8%。但是随着毕业次年末最大力度的退税，所有情形下，实际都仅仅亏损预扣税款的时间价值。对于一般硕士生来说，总亏损不过几十块，可以忽略；即便是收入最高的学霸直博生，也不过1000出头，不到累积收入的1%。

&lt;h3 id=&quot;讨论&quot;&gt;讨论&lt;/h3&gt;

各位客官看到这里似乎都疲劳困倦了，没关系，接下来的内容会让您更加困倦！

我们从个体角度考虑一下新个税体系下究竟发生了什么：每个月，我们的收入，都会预扣一部分税款，而预扣部分，会根据我们年收入情况，在次年退回给我们。也就是说，我们把国家当作一个客体，他每个月都向我们借入一笔钱，并且拍胸脯说，老乡你好，明年某时，定当逐月累积如数奉还！聪明的你如果知道国债这个东西，是不是有点像？

没错，就是这样！如果退税真的发生在次年12月的话，且按9月开学为新的补贴周期，这个过程相当于&lt;strong&gt;我们逐月滚动购买15-27个月期、价格为预扣税金额的、零利率国债。&lt;/strong&gt;没明白？没关系，下面的更不用看啦。

我们可以进一步估计新的退税体系下，全国研究生群体为国家财税系统贡献了多少的流动性。据&lt;a href=&quot;http://www.ecorr.org/news/industry/2018-06-11/169201.html&quot;&gt;调查&lt;/a&gt;：
&lt;blockquote&gt;
  日前，一项来自全国各地的1663名研究生参与调查的研究生问卷结果显示，223人每月补贴在0-500元区间，占比13.42%；359人每月补贴在500-1000元区间，占比21.66%；450人每月补贴在1000-2000元区间，占比27.14%；452人每月补贴在2000-3000元区间，占比27.26%；148人每月补贴在3000-4000元区间，占比8.97%；每月补贴在4000-5000元区间以上的学生人数占比较低。仅有11.13%的学生表示补贴金额能够满足日常使用，88.87%的学生表示补贴并不能满足日常开销。
&lt;/blockquote&gt;

我们做一个简单的估计（仅仅是估计哦），假设月收入在2000以下的，减去500（与国家对硕士生的每月助学金对应，这部分不计税）为硕士助研津贴收入；月收入2000以上的减去1250为博士助研津贴收入，那么根据上述数据，可以每年全国在读研究生(约210万)的预扣税款总额可根据下表估算：

&lt;img src=&quot;http://ww1.sinaimg.cn/large/73ebdc71ly1fznrpbqiqej20i605pmz1.jpg&quot; alt=&quot;&quot; /&gt;

942×210万大约也就是20个亿，对全国税收总收入来说（2018年15.6万亿），这个数额仅仅万分之一多点，其实可以忽略。不过，铁打的营盘流水的兵，只要每年研究生都不断入学，又在这样一个不断扩招的背景下，这部分流动性就源源不断～

不知道大家有没有在新闻上听说过“麻辣粉(MLF)”这个东西？其实MLF全名叫中期借贷便利(Medium-term Lending Facility)。具体定义我抄写下百度百科：
&lt;blockquote&gt;
  中期借贷便利于2014年9月由中国人民银行创设。中期借贷便利是中央银行提供中期基础货币的货币政策工具，对象为符合宏观审慎管理要求的商业银行、政策性银行，可通过招标方式开展。发放方式为质押方式，并需提供国债、央行票据、政策性金融债、高等级信用债等优质债券作为合格质押品。
&lt;/blockquote&gt;

看懂没？没看懂没关系，大概意思就是说，作为央妈的孩子，商业银行们没奶吃的时候，就可以向央妈借钱。央妈说，借钱可以，一年后还我，连本付息哦；还有那啥，空手来借可不行，把你们家的国债票据啥的宝贝，都拿出来先押我这里，等一年后你还钱的时候我还你的宝贝们。不过MLF动辄都是几千亿，相比之下我们贡献的流动性真是毛毛雨啦。

说到央妈向银行出借流动性，回到我们研究生群体，对比下财爸爸向我们借钱的态度……摔。无论怎样，我们应该感到自豪，仅仅牺牲百分之零点几的总收入，就为国家贡献了20亿流动性，不正是我辈最大荣幸吗！

&lt;h3 id=&quot;总结&quot;&gt;总结&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    新税收体系相比于旧税收体系，预扣税款会减少研究生助研津贴的累积当期&lt;strong&gt;账面&lt;/strong&gt;收入，且毕业前累积&lt;strong&gt;账面&lt;/strong&gt;减值达到最大；毕业前该账上减值，对于一般3年期硕士生，约在&lt;strong&gt;1000元&lt;/strong&gt;，四年期博士生约在&lt;strong&gt;2000-3000元&lt;/strong&gt;，约占累积收入3-4%；五年期直博生约在&lt;strong&gt;3000-5000元&lt;/strong&gt;，约占累积收入5%；部分劳务收入特别高（比如有较多非校内收入）的博士生能达到&lt;strong&gt;10000元&lt;/strong&gt;以上，约占累积收入8%.
  &lt;/li&gt;
  &lt;li&gt;
    次年退税后，账面减值均会有显著回调，且该回调随读研年数增加（收入增多）而增多。对硕士生来说，该回调约在500元以下，高年级博士生能接近1000元；收入特别高的博士生能达到几千元。毕业后次年，随着最后一次退税完成，最终实际减值为&lt;strong&gt;预扣税款的时间价值&lt;/strong&gt;.三年期博士生仅为几十块，收入特别高的博士生也不到总累积收入的1%。若退税一切顺利，完全可以忽略。
  &lt;/li&gt;
  &lt;li&gt;
    研究生所交预扣税款的本质相当于逐月滚动购买15-27月期零息国债,全国研究生每年平均为财税体系贡献20亿零利息，一年之上，两年未满的流动性便利，但该金额其实只相当于年总税收万分之一。
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;参考&quot;&gt;参考&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://wallstreetcn.com/articles/3060993&quot;&gt;详解自由现金流折现法&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/23005134&quot;&gt;如何简明地解释自由现金流折现&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.douban.com/note/643343513/&quot;&gt;净现金流折现法&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.ecorr.org/news/industry/2018-06-11/169201.html&quot;&gt;中国200万在读硕博&lt;/a&gt;
&lt;strong&gt;Updated 2019-01-29&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Fri, 25 Jan 2019 00:00:00 +0800</pubDate>
        <link>http://202.116.70.212:80/2019/01/25/new-tax-system-student-stipend/</link>
        <guid isPermaLink="true">http://202.116.70.212:80/2019/01/25/new-tax-system-student-stipend/</guid>
        
        
        <category>economy</category>
        
        <category>finance</category>
        
        <category>notebook</category>
        
      </item>
    
      <item>
        <title>Multiple users, single server account, github</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#reference&quot; id=&quot;markdown-toc-reference&quot;&gt;Reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

There is a common case that multiple users use the same Linux server account, but they have different github account and their own repo. How to get a solution for this problem?
&lt;img src=&quot;http://ww1.sinaimg.cn/large/73ebdc71ly1fzhkby1wadj20qo0k0gm9.jpg&quot; alt=&quot;&quot; /&gt;

Given you have already configured an active github account (Alice) on the server with all global git and ssh settings done. We treat Alice as the main account.

Now configuring the ssh settings. We generate one more RSA key pairs.

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ssh-keygen  &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; rsa &lt;span class=&quot;nt&quot;&gt;-C&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hello world&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

When choosing the save path, be sure save the file to a new name, e.g. &lt;code class=&quot;highlighter-rouge&quot;&gt;id_rsa_bob&lt;/code&gt;.

Then we add the private key to ssh settings.

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ssh-agent bash
ssh-add id_rsa_bob
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;code class=&quot;highlighter-rouge&quot;&gt;$ssh-add -l&lt;/code&gt; will show the accepted private keys list.

Also, add &lt;code class=&quot;highlighter-rouge&quot;&gt;id_rsa_bob.pub&lt;/code&gt; to your github ssh key list.

Next, we write the &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.ssh/config&lt;/code&gt; file:

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# git@github.com:Alice&lt;/span&gt;
Host github-alice
  User Alice 
  HostName github.com
  PreferredAuthentications publickey
  IdentityFile ~/.ssh/id_rsa

&lt;span class=&quot;c&quot;&gt;# git@github.com:bob&lt;/span&gt;
Host github-bob
  User bob
  HostName github.com
  PreferredAuthentications publickey
  IdentityFile ~/.ssh/id_rsa_bob
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

Make sure to give the file a proper authority:

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;chmod 600 ~/.ssh/config
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

Alice, as the main user, do not need to change anything. Bob, however, consider he clone a repo &lt;code class=&quot;highlighter-rouge&quot;&gt;gene-player&lt;/code&gt; from his github. Now he need to set the repo’s config file.

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git config user.name &lt;span class=&quot;s2&quot;&gt;&quot;bob&quot;&lt;/span&gt;
git config user.email email &lt;span class=&quot;s2&quot;&gt;&quot;bob@gene-player.com&quot;&lt;/span&gt;
git config remote.origin.url &lt;span class=&quot;s2&quot;&gt;&quot;git@github-bob:bob/gene-player.git&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

Note that we need to modify the remote.origin.url, replacing the original domain name “github.com” to “github-bob” as what we set the &lt;code class=&quot;highlighter-rouge&quot;&gt;Host&lt;/code&gt; variable in &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.ssh/config&lt;/code&gt;.

Now Bob can play with the repo.

&lt;h3 id=&quot;reference&quot;&gt;Reference&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/onTheRoadToMine/article/details/79029331&quot;&gt;https://blog.csdn.net/onTheRoadToMine/article/details/79029331&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/Jack_0817/article/details/55668892&quot;&gt;https://blog.csdn.net/Jack_0817/article/details/55668892&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/dong_alex/article/details/80813816&quot;&gt;https://blog.csdn.net/dong_alex/article/details/80813816&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;strong&gt;Updated 2019-01-24&lt;/strong&gt;

</description>
        <pubDate>Thu, 24 Jan 2019 00:00:00 +0800</pubDate>
        <link>http://202.116.70.212:80/2019/01/24/multiple-user-single-server-github/</link>
        <guid isPermaLink="true">http://202.116.70.212:80/2019/01/24/multiple-user-single-server-github/</guid>
        
        <category>Linux</category>
        
        <category>Git&amp;GitHub</category>
        
        
        <category>Linux</category>
        
        <category>Git&amp;GitHub</category>
        
      </item>
    
      <item>
        <title>NetCDF ERROR: configure: error: cannot compute sizeof (off_t)</title>
        <description>
When porting CESM onto Prof. YTQ’s account on SAS (School of Atmospheric Sciences) Computing Platform, we met a bunch of problems on dependency. We highly suspect the administrator did not use the identical compiler to build all libs. Thus we tried to build our own dependencies using exactly the same compiler.

While building the NetCDF fortran lib to bundle into the C lib, in configuring, we met the problem:

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; configure: error: cannot compute sizeof &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;off_t&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

We are using the configuring command:
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/wind1/home/qiaoyt/soft/netcdf-4331-intel15/ &lt;span class=&quot;nv&quot;&gt;LDFLAGS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;-L/wind1/home/qiaoyt/soft/netcdf-4331-intel15/lib&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;CPPFLAGS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;-I/wind1/home/qiaoyt/soft/netcdf-4331-intel15/include&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;FC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ifort
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

It’s quite strenge because the sizeof any type of variable is 0 in the configuring output. I suspect the configure utility cannot locate the C lib correctly, so I added the environmental variable for &lt;code class=&quot;highlighter-rouge&quot;&gt;LD_LIBRARY_PATH&lt;/code&gt; in &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.bashrc&lt;/code&gt;:
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LIB_NETCDF&lt;/span&gt;:&lt;span class=&quot;nv&quot;&gt;$LD_LIBRARY_PATH&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

The configure utility passed after source the bashrc. It seems to be a bug of the configure utility in NetCDF-fortran lib to locate the C lib.

The model was successfully ported after we re-built every lib with the identical compiler.

&lt;strong&gt;Updated 2019-01-10&lt;/strong&gt;

</description>
        <pubDate>Thu, 10 Jan 2019 00:00:00 +0800</pubDate>
        <link>http://202.116.70.212:80/2019/01/10/netcdf-sizeof-off_t/</link>
        <guid isPermaLink="true">http://202.116.70.212:80/2019/01/10/netcdf-sizeof-off_t/</guid>
        
        <category>NetCDF</category>
        
        <category>Linux</category>
        
        
        <category>NetCDF</category>
        
        <category>Linux</category>
        
      </item>
    
      <item>
        <title>NCL ERROR: PopLatLon function cannot access map_* create_rmpPopFileName: file not recognized/found</title>
        <description>
Wenxiu Zhong met PopLatLon error:

&lt;blockquote&gt;
  ls: cannot access map_*: No such file or directory
(0) create_rmpPopFileName: file not recognized/found: map_gx1v6_to_1x1d_bilin_da_100716.nc
(0) create_rmpPopFileName: dir searched: ./
&lt;/blockquote&gt;

This is actually the system cannot find the pop remap weight file. The file info can be found from the &lt;a href=&quot;https://www.ncl.ucar.edu/Applications/popwgtfiles.shtml&quot;&gt;NCL official site&lt;/a&gt;, which is actually downloaded from the CESM official svn site.

After downloaded the files, export related environmental variable in &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.bashrc&lt;/code&gt;:

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;NCL_POP_REMAP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$DIR_TO_POP_REMAP_FILE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;code class=&quot;highlighter-rouge&quot;&gt;source ~/.bashrc&lt;/code&gt; and re-run the script.

&lt;strong&gt;Updated 2018-12-31&lt;/strong&gt;

</description>
        <pubDate>Mon, 31 Dec 2018 00:00:00 +0800</pubDate>
        <link>http://202.116.70.212:80/2018/12/31/ncl-pop-regrid/</link>
        <guid isPermaLink="true">http://202.116.70.212:80/2018/12/31/ncl-pop-regrid/</guid>
        
        <category>NCL</category>
        
        
        <category>NCL</category>
        
      </item>
    
      <item>
        <title>CESM Reading User-defined File got Segmentation Fault</title>
        <description>
YT met segmentation fault error when using similar tech as in the &lt;a href=&quot;https://github.com/Novarizark/project/tree/master/SRC_MOD_LIB-2017/SourceMods-Nudging/src.cam&quot;&gt;UV Nudging experiment&lt;/a&gt; to conduct TP heatforcing experiments.

The segfault comes from the user-added call in &lt;code class=&quot;highlighter-rouge&quot;&gt;phypkg.F90&lt;/code&gt;:

&lt;div class=&quot;language-fortran highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;infld&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'tp'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fh_tpmask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'lon'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'lat'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pcols&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;begchunk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;endchunk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tpmask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;found&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grid_map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'PHYS'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

According to &lt;a href=&quot;https://en.wikipedia.org/wiki/Segmentation_fault&quot;&gt;wikipedia&lt;/a&gt;:
&lt;blockquote&gt;
  In computing, a segmentation fault (often shortened to segfault) or access violation is a fault, or failure condition, raised by hardware with memory protection, notifying an operating system (OS) &lt;strong&gt;the software has attempted to access a restricted area of memory (a memory access violation)&lt;/strong&gt;.
&lt;/blockquote&gt;

We believe the error comes from the &lt;code class=&quot;highlighter-rouge&quot;&gt;infld&lt;/code&gt; reading process. Somehow the program violates the memory access limit, such as using double to read byte, or reading after End-of-File.

However, the original code is copied from a previous F compset run, which was smoothly conducted. So we re-check the ad-hoc part:

&lt;div class=&quot;language-fortran highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;      &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;!*** MOD START: infld TP mask and heating file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fh_tpmask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tpmask_file_get_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;infld&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'tp'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fh_tpmask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'lon'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'lat'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pcols&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;begchunk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;endchunk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
              &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tpmask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;found&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grid_map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'PHYS'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

The thing is that we read the file info (get the file handle) in a function from another module (&lt;code class=&quot;highlighter-rouge&quot;&gt;cam_initfiles.F90&lt;/code&gt;), and use the pointer to get the function handle in &lt;code class=&quot;highlighter-rouge&quot;&gt;phypkg.F90&lt;/code&gt;. In ` cam_initfiles.F90` we define:

&lt;div class=&quot;language-fortran highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tpmask_file_get_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file_desc_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;pointer&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tpmask_file_get_id&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tpmask_file_get_id&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fh_tpmask&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tpmask_file_get_id&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;strong&gt;Updated 2018-12-27&lt;/strong&gt;

</description>
        <pubDate>Thu, 27 Dec 2018 00:00:00 +0800</pubDate>
        <link>http://202.116.70.212:80/2018/12/27/cesm-segfault-log/</link>
        <guid isPermaLink="true">http://202.116.70.212:80/2018/12/27/cesm-segfault-log/</guid>
        
        <category>CESM</category>
        
        
        <category>CESM</category>
        
      </item>
    
      <item>
        <title>CESM RESTFORMAT: NUMBER OF RECORDS ON RESTART FILE NOT SUPPORTED</title>
        <description>
FS in OUC is trying to setup CESM fully coupled Pre-industrial (B1850 compset) cases while faced with some problem.

In the run log, we found:

&lt;blockquote&gt;
  ERROR: restformat: number of records on restart file not supported
&lt;/blockquote&gt;

By searching, &lt;a href=&quot;https://bb.cgd.ucar.edu/port-validation-runtime-failure-error-restformat-number-records-restart-file-not-supported&quot;&gt;the error seems to come from the ice restart file&lt;/a&gt;.

We then checked the default restart file, which can be located in &lt;code class=&quot;highlighter-rouge&quot;&gt;ice_in&lt;/code&gt;, in &lt;code class=&quot;highlighter-rouge&quot;&gt;${CESM_INPUT}/ice/cice/iced.0001-01-01.gx1v6_20080212&lt;/code&gt;. The file is zero in size. Thus, it must be created by the model, and the model cannot read anything from it. We re-download the corresponding file and the problem solved.

&lt;strong&gt;Updated 2018-12-26&lt;/strong&gt;

</description>
        <pubDate>Mon, 24 Dec 2018 00:00:00 +0800</pubDate>
        <link>http://202.116.70.212:80/2018/12/24/cesm-error-log/</link>
        <guid isPermaLink="true">http://202.116.70.212:80/2018/12/24/cesm-error-log/</guid>
        
        <category>CESM</category>
        
        
        <category>CESM</category>
        
      </item>
    
      <item>
        <title>Nuuk in the air</title>
        <description>
看了下github，已经三个周没有contribution了。上周AGU，应该是毕业前最后一次出国开会，早就准备，YQ也一并同去，两人第一次在国外开会overlap，一起逛了DC的两个博物馆，方尖碑，林肯纪念堂和国会山，看到了梵高自画像的原作，YQ很开心，好久没有见她这么长时间持续的开心了，我也很欣慰。

返程从NY直飞CN，整航班的纨绔美本，着装相貌言谈举止，耳闻目睹间与影视作品中对接角色相差不大。想这代人与他们父辈之间已经判若云泥，略感唏嘘。

航班起飞之后直冲正北，冰洋航线，第一次飞入北极圈。飞西海岸都是走白令海测地线，阿留申群岛掠过，并没有进入北极圈。如今看这长虹贯日般的冰洋航线，想到进入极夜区或许能看到极光，不禁一阵兴奋。

进入北极圈后很快就进入极夜区，与飞越晨昏线的情况类似，似入黄昏一般逐渐暗淡，夕阳在右舷窗外，下面是时而包块时而条状的极地层状云。时值上弦月，斜挂西天，银光下泻，照亮一片云缝之中格陵兰的冰川和海面。

除了引擎的轰鸣，窗外静谧地像油画一般，完全感受不到这片静谧之中是彻骨寒冷。朦胧中忽然发现一片灯光，飞行信息上显示是格陵兰的首府，努克。呵，从这个高度望去，这个小镇的灯火如美国商铺门口的OPEN彩灯一般精巧，不知道这里的人们过着怎样的生活，与我9年前期盼的山顶测站相比如何？有生之年若有机会，愿来这里守候极光。

&lt;img src=&quot;https://ws1.sinaimg.cn/large/73ebdc71gy1fyb47xbrvej212w0pxjtz.jpg&quot; alt=&quot;&quot; /&gt;

&lt;strong&gt;Updated 2018-12-18&lt;/strong&gt;
</description>
        <pubDate>Tue, 18 Dec 2018 00:00:00 +0800</pubDate>
        <link>http://202.116.70.212:80/2018/12/18/nuuk-in-the-air/</link>
        <guid isPermaLink="true">http://202.116.70.212:80/2018/12/18/nuuk-in-the-air/</guid>
        
        <category>thinking</category>
        
        <category>blog</category>
        
        
        <category>thinking</category>
        
        <category>blog</category>
        
      </item>
    
      <item>
        <title>Mask region in the grid system according to shapefile</title>
        <description>
Here is a demand from YQ that the area of Shanghai need to be marked out from the WRF/CMAQ grid system. Previously, we have tried to mask out the whole region, e.g. the PRD. Now, we need to read the shapefile, and mask the region (closed polyline) by the given name.

A &lt;a href=&quot;http://www.ncl.ucar.edu/Applications/shapefiles.shtml&quot;&gt;NCL Page&lt;/a&gt; talking about the shapefile in NCL. However, we do not need to know deep in the GIS architecture. The only thing we need to know is how to mask the region by named polylines.

Still, the &lt;code class=&quot;highlighter-rouge&quot;&gt;shapefile_mask_data&lt;/code&gt; works for this. Just an optional attribute is enough.

&lt;div class=&quot;language-fortran highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;             &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;       &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shape_var&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;NAME_1&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shape_names&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Shanghai&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;ncl_filedump -v&lt;/code&gt; can be used to iterate all possible values for &lt;code class=&quot;highlighter-rouge&quot;&gt;shape_var&lt;/code&gt;. Original script is available on the &lt;a href=&quot;https://github.com/Novarizark/project/blob/master/HKUST-yeq-2016/ncl/181112-test-shanghai-shape-final.ncl&quot;&gt;github&lt;/a&gt;.

&lt;strong&gt;Updated 2018-11-13&lt;/strong&gt;

</description>
        <pubDate>Tue, 13 Nov 2018 00:00:00 +0800</pubDate>
        <link>http://202.116.70.212:80/2018/11/13/shapefile-mask/</link>
        <guid isPermaLink="true">http://202.116.70.212:80/2018/11/13/shapefile-mask/</guid>
        
        <category>wrf</category>
        
        <category>shapefile</category>
        
        
        <category>wrf</category>
        
      </item>
    
  </channel>
</rss>
